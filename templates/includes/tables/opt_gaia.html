{% load filters_tags %}

<div class="table_opt_sources">
    <table id = "ScrollTable" class="table table-bordered table-responsive small" cellspacing="0">
        <thead class="thead-dark" >
            <tr>
                <th>{{ 'sep' }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'opt_id'                       }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'objID'                        }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'ra'                           }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'dec'                          }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'star'                         }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'autoclass_star'               }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'parallax'                     }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'parallax_error'               }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'pmra'                         }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'pmra_error'                   }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'pmdec'                        }}</th>
                <th>{{ opt_sources.first|field_verbose_name:'pmdec_error'                  }}</th>
            </tr>
        </thead>
        <tbody>
        {% if opt_sources %}
            {% for opt_source in opt_sources %}
                {% define master_source|get_sep:opt_source as sep %}
                <tr class="{% opt_row_class opt_source master_source sep %}">
                    <td class="align-middle"> {{ sep|stringformat:".5f"}} </td>
                    <td class="align-middle">{{ opt_source.opt_id                       }}</td>
                    <td class="align-middle">{{ opt_source.objID                        }}</td>
                    <td class="align-middle">{{ opt_source.ra|stringformat:".5f"                           }}</td>
                    <td class="align-middle">{{ opt_source.dec|stringformat:".5f"                          }}</td>
                    <td class="align-middle">{{ opt_source.star                                            }}</td>
                    <td class="align-middle">{% show_value_for_boolean_or_unknown opt_source.autoclass_star "Star" "Non-star" %}</td>
                    <td class="align-middle">{{ opt_source.parallax|stringformat:".3f"                     }}</td>
                    <td class="align-middle">{{ opt_source.parallax_error|stringformat:".3f"               }}</td>
                    <td class="align-middle">{{ opt_source.pmra|stringformat:".3f"                         }}</td>
                    <td class="align-middle">{{ opt_source.pmra_error|stringformat:".3f"                   }}</td>
                    <td class="align-middle">{{ opt_source.pmdec|stringformat:".3f"                        }}</td>
                    <td class="align-middle">{{ opt_source.pmdec_error|stringformat:".3f"                  }}</td>
                </tr>
            {% endfor %}
        {% endif %}
      </tbody>
    </table>
</div>